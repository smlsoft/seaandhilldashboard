/*
  ===============================================================
  üõ†Ô∏è ‡∏ß‡∏¥‡∏ò‡∏µ‡∏™‡∏£‡πâ‡∏≤‡∏á User ‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö Dashboard ‡∏ú‡πà‡∏≤‡∏ô pgAdmin üõ†Ô∏è
  ===============================================================
  
  ‡∏õ‡∏±‡∏ç‡∏´‡∏≤: ‡πÄ‡∏£‡∏≤‡πÑ‡∏°‡πà‡∏°‡∏µ‡∏£‡∏´‡∏±‡∏™‡∏ú‡πà‡∏≤‡∏ô‡∏Ç‡∏≠‡∏á 'postgres'
  ‡∏ó‡∏≤‡∏á‡πÅ‡∏Å‡πâ: ‡πÄ‡∏ô‡∏∑‡πà‡∏≠‡∏á‡∏à‡∏≤‡∏Å‡∏Ñ‡∏∏‡∏ì‡πÄ‡∏Ç‡πâ‡∏≤ pgAdmin ‡πÑ‡∏î‡πâ (‡πÅ‡∏õ‡∏•‡∏ß‡πà‡∏≤‡πÄ‡∏õ‡πá‡∏ô Superuser) -> ‡πÄ‡∏£‡∏≤‡∏à‡∏∞‡∏™‡∏£‡πâ‡∏≤‡∏á User ‡πÉ‡∏´‡∏°‡πà‡πÄ‡∏•‡∏¢!

  üëâ ‡∏Ç‡∏±‡πâ‡∏ô‡∏ï‡∏≠‡∏ô‡∏ó‡∏µ‡πà 1: ‡∏™‡∏£‡πâ‡∏≤‡∏á User (‡∏ó‡∏≥‡∏Ñ‡∏£‡∏±‡πâ‡∏á‡πÄ‡∏î‡∏µ‡∏¢‡∏ß)
  1. ‡πÉ‡∏ô pgAdmin ‡∏Ñ‡∏•‡∏¥‡∏Å‡∏Ç‡∏ß‡∏≤‡∏ó‡∏µ‡πà Database "postgres"
  2. ‡πÄ‡∏•‡∏∑‡∏≠‡∏Å "Query Tool"
  3. Copy ‡πÅ‡∏•‡∏∞ Run ‡∏Ñ‡∏≥‡∏™‡∏±‡πà‡∏á‡∏Ç‡πâ‡∏≤‡∏á‡∏•‡πà‡∏≤‡∏á‡∏ô‡∏µ‡πâ:
*/

-- 1. ‡∏™‡∏£‡πâ‡∏≤‡∏á User ‡∏ä‡∏∑‡πà‡∏≠ 'web_dashboard' ‡∏£‡∏´‡∏±‡∏™‡∏ú‡πà‡∏≤‡∏ô 'Web2026!'
DO $$
BEGIN
  IF NOT EXISTS (SELECT FROM pg_catalog.pg_roles WHERE rolname = 'web_dashboard') THEN
    CREATE USER web_dashboard WITH PASSWORD 'Web2026!';
    ALTER USER web_dashboard WITH LOGIN;
  END IF;
END
$$;

/*
  ===============================================================
  üëâ ‡∏Ç‡∏±‡πâ‡∏ô‡∏ï‡∏≠‡∏ô‡∏ó‡∏µ‡πà 2: ‡πÉ‡∏´‡πâ‡∏™‡∏¥‡∏ó‡∏ò‡∏¥‡πå‡πÄ‡∏Ç‡πâ‡∏≤‡∏ñ‡∏∂‡∏á‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏• (‡∏ó‡∏≥‡∏ã‡πâ‡∏≥ 6 ‡∏£‡∏≠‡∏ö)
  ===============================================================
  
  ‡∏Ñ‡∏∏‡∏ì‡∏ï‡πâ‡∏≠‡∏á‡πÄ‡∏õ‡∏•‡∏µ‡πà‡∏¢‡∏ô Database Connection (‡∏ó‡∏µ‡πà‡∏°‡∏∏‡∏°‡∏Ç‡∏ß‡∏≤‡∏ö‡∏ô‡∏Ç‡∏≠‡∏á Query Tool) 
  ‡∏´‡∏£‡∏∑‡∏≠‡∏Ñ‡∏•‡∏¥‡∏Å‡∏Ç‡∏ß‡∏≤‡∏ó‡∏µ‡πà‡∏ä‡∏∑‡πà‡∏≠ Database ‡πÅ‡∏ï‡πà‡∏•‡∏∞‡∏≠‡∏±‡∏ô‡πÅ‡∏•‡πâ‡∏ß‡πÄ‡∏•‡∏∑‡∏≠‡∏Å Query Tool ‡πÉ‡∏´‡∏°‡πà
  
  ‡∏£‡∏≤‡∏¢‡∏ä‡∏∑‡πà‡∏≠ Database ‡∏ó‡∏µ‡πà‡∏ï‡πâ‡∏≠‡∏á‡∏ó‡∏≥ (000-005):
  1. changsiamcompany_2568
  2. CHANGSIAMRUAY_2568
  3. CHANGSUPTHAWEE_2568
  4. CHAOTHALAYHEHA_2568
  5. DEEJINGJUNG_2568
  6. HOMHUG_2568

  ‡∏£‡∏±‡∏ô‡∏Ñ‡∏≥‡∏™‡∏±‡πà‡∏á‡∏Ç‡πâ‡∏≤‡∏á‡∏•‡πà‡∏≤‡∏á‡∏ô‡∏µ‡πâ ‡πÉ‡∏ô‡∏´‡∏ô‡πâ‡∏≤ Query Tool ‡∏Ç‡∏≠‡∏á‡πÅ‡∏ï‡πà‡∏•‡∏∞ Database:
*/

-- 2. ‡πÉ‡∏´‡πâ‡∏™‡∏¥‡∏ó‡∏ò‡∏¥‡πå‡∏≠‡πà‡∏≤‡∏ô‡∏ï‡∏≤‡∏£‡∏≤‡∏á‡∏ó‡∏±‡πâ‡∏á‡∏´‡∏°‡∏î‡πÉ‡∏ô public schema
GRANT CONNECT ON DATABASE current_database() TO web_dashboard;
GRANT USAGE ON SCHEMA public TO web_dashboard;
GRANT SELECT ON ALL TABLES IN SCHEMA public TO web_dashboard;

-- (‡πÄ‡∏ú‡∏∑‡πà‡∏≠‡∏°‡∏µ‡∏Å‡∏≤‡∏£‡∏™‡∏£‡πâ‡∏≤‡∏á‡∏ï‡∏≤‡∏£‡∏≤‡∏á‡πÉ‡∏´‡∏°‡πà‡πÉ‡∏ô‡∏≠‡∏ô‡∏≤‡∏Ñ‡∏ï ‡∏Å‡πá‡πÉ‡∏´‡πâ‡∏≠‡πà‡∏≤‡∏ô‡πÑ‡∏î‡πâ‡∏î‡πâ‡∏ß‡∏¢)
ALTER DEFAULT PRIVILEGES IN SCHEMA public GRANT SELECT ON TABLES TO web_dashboard;

/*
  ‚úÖ ‡πÄ‡∏™‡∏£‡πá‡∏à‡πÅ‡∏•‡πâ‡∏ß! 
  ‡πÅ‡∏à‡πâ‡∏á‡∏ú‡∏°‡∏ß‡πà‡∏≤ "‡∏£‡∏±‡∏ô‡∏Ñ‡∏£‡∏ö‡πÅ‡∏•‡πâ‡∏ß" ‡∏ú‡∏°‡∏à‡∏∞‡∏ï‡∏±‡πâ‡∏á‡∏Ñ‡πà‡∏≤ Dashboard ‡πÉ‡∏´‡πâ‡πÉ‡∏ä‡πâ User: web_dashboard ‡∏ô‡∏µ‡πâ‡∏ó‡∏±‡∏ô‡∏ó‡∏µ
*/
